<div class="loading-indicator">
  <mat-spinner *ngIf="showSpinner" style="margin:0 auto;"></mat-spinner>
</div>

<mat-sidenav-container class="example-container">
  <mat-sidenav #sideNav mode="over" opened="false" class="example-container">
    <mat-toolbar color="primary"><span>Sidenav toolbar</span></mat-toolbar>
    <mat-nav-list>
      <a mat-list-item (click)="omdbMenuExpanded = !omdbMenuExpanded">OMDB<mat-icon class="rightAlignment" [@indicatorRotate]="omdbMenuExpanded ? 'expanded': 'collapsed'">expand_more</mat-icon></a>
      <mat-nav-list *ngIf="omdbMenuExpanded">
        <a mat-list-item class="nested-list-item" (click)="openGetOmdbTvShowDialog()">Get tvshow</a>
        <a mat-list-item class="nested-list-item" (click)="importTvShows()">Import tvshows</a>
      </mat-nav-list>

      <a mat-list-item (click)="tvShowsMenuExpanded = !tvShowsMenuExpanded">TV Shows<mat-icon class="rightAlignment" [@indicatorRotate]="tvShowsMenuExpanded ? 'expanded': 'collapsed'">expand_more</mat-icon></a>
      <mat-nav-list *ngIf="tvShowsMenuExpanded">
        <a mat-list-item class="nested-list-item" (click)="openAddMovieDialog()">Add movie</a>
      </mat-nav-list>
    </mat-nav-list>
  </mat-sidenav>

  <mat-sidenav-content>
    <header class="jumbotron my-4">
      <h1 class="display-3">TV Shows</h1>
    </header>
    <mat-toolbar class="genre-toolbar">
      <mat-checkbox *ngFor="let genre of ALL_GENRES"
                    value="{{genre}}"
                    [checked]="true"
                    (change)="genresChanged(genre, $event)">
        {{genre}}
      </mat-checkbox>
    </mat-toolbar>

    <div *ngFor="let genre of genresToShow">
      <div *ngIf="tvShowsByGenre[genre]">
        <h2>{{genre}}</h2>
        <app-tv-show-list [tvShows]="tvShowsByGenre[genre]" (tvShowDeleteEvent)="deleteTvShow($event)"></app-tv-show-list>
      </div>
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>
